@model Tiennthe171977_Oceanteach.Models.Employee

@{
    ViewBag.Title = "Chi tiết Nhân Viên";
}

<h2 class="text-center mt-3">Chi tiết Nhân Viên</h2>

<div class="container mt-4">
    <div class="card">
        <div class="card-header bg-primary text-white">
            Thông tin nhân viên
        </div>
        <div class="card-body">
            @if (Model != null)
            {
                <table class="table">
                    <tr>
                        <th>ID:</th>
                        <td>@Model.EmployeeId</td>
                    </tr>
                    <tr>
                        <th>Họ Tên:</th>
                        <td>@Model.HoTen</td>
                    </tr>
                    <tr>
                        <th>Ngày Sinh:</th>
                        <td>@Model.NgaySinh?.ToString("dd/MM/yyyy")</td>
                    </tr>
                    <tr>
                        <th>Tuổi:</th>
                        <td>@Model.Tuoi</td>
                    </tr>
                    <tr>
                        <th>Dân Tộc:</th>
                        <td>@(Model.DanToc?.TenDanToc ?? "Không có")</td>
                    </tr>
                    <tr>
                        <th>Nghề Nghiệp:</th>
                        <td>@(Model.NgheNghiep?.TenNgheNghiep ?? "Không có")</td>
                    </tr>
                    <tr>
                        <th>CCCD:</th>
                        <td>@(string.IsNullOrEmpty(Model.Cccd) ? "Không có" : Model.Cccd)</td>
                    </tr>
                    <tr>
                        <th>Số Điện Thoại:</th>
                        <td>@(string.IsNullOrEmpty(Model.SoDienThoai) ? "Không có" : Model.SoDienThoai)</td>
                    </tr>
                    <tr>
                        <th>Địa chỉ:</th>
                        <td>
                            @(Model.Xa?.TenXa ?? "Không có") - @(Model.Huyen?.TenHuyen ?? "Không có") - @(Model.Tinh?.TenTinh ?? "Không có")
                            <br />
                            Cụ thể: @(Model.DiaChiCuThe ?? "Không có")
                        </td>
                    </tr>
                </table>
                <h3 class="mt-4">Danh sách Văn Bằng</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Tên Văn Bằng</th>
                            <th>Ngày Cấp</th>
                            <th>Ngày Hết Hạn</th>
                            <th>Đơn vị cấp </th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.VanBangs != null && Model.VanBangs.Any())
                        {
                            @foreach (var vanBang in Model.VanBangs)
                            {
                                <tr>
                                    <td>@vanBang.TenVanBang</td>
                                    <td>@vanBang.NgayCap.ToString("dd/MM/yyyy")</td>
                                    <td>@(vanBang.NgayHetHan?.ToString("dd/MM/yyyy") ?? "Không có")</td>
                                    <td>@(vanBang.DonViCapNavigation?.TenTinh ?? "Không có")</td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="4" class="text-center text-danger">Không có văn bằng nào.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p class="text-danger">Không tìm thấy nhân viên.</p>
            }
        </div>
    </div>

    <a href="@Url.Action("Index", "Employee")" class="btn btn-secondary mt-3">Quay lại danh sách</a>
</div>